"use strict";angular.module("lelyvitoApp",["ngAnimate","ui.router","firebase","angularMoment","angular-loading-bar"]).constant("$",window.$).constant("MAX_IMG",13).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"views/home.html",controller:"HomeCtrl"}).state("invitation",{url:"/invitation",templateUrl:"views/invitation.html"}).state("location",{url:"/location",templateUrl:"views/location.html"}).state("transport",{url:"/transport",templateUrl:"views/transport.html"}).state("guestbook",{url:"/guestbook",templateUrl:"views/guestbook.html",controller:"GuestbookCtrl"}).state("about",{url:"/about",templateUrl:"views/about.html",controller:"AboutCtrl"}).state("album",{url:"/album",templateUrl:"views/album.html",controller:"AlbumCtrl"}).state("albumDetail",{url:"/album/{imgId}",templateUrl:"views/album-detail.html",controller:"AlbumDetailCtrl"})}]).run(["$rootScope","$state",function(a){a.$on("$stateChangeStart",function(b,c){a.state=c})}]),angular.module("lelyvitoApp").controller("HomeCtrl",["$scope",function(){}]),angular.module("lelyvitoApp").controller("AboutCtrl",["$scope",function(a){a.vito="Vito Ardhiyanto",a.lely="Lely Mufika"}]),angular.module("lelyvitoApp").controller("GuestbookCtrl",["$scope","$firebase",function(a,b){var c=new Firebase("https://lely-vito.firebaseio.com/guestbook");a.messages=b(c).$asArray(),a.showForm=!1,a.isLoading=!0,a.isLoggedIn=!1,a.user=null,a.messages.$loaded().then(function(){a.isLoading=!1}),a.formToggle=function(){a.showForm=!a.showForm},a.addMessage=function(){if(a.msg){{a.name||"anonymous"}a.messages.$add({from:a.user.displayName,body:a.msg,timestamp:Firebase.ServerValue.TIMESTAMP}),a.name="",a.msg=""}};var d=new Firebase("https://lely-vito.firebaseio.com"),e=new FirebaseSimpleLogin(d,function(b,c){b?(console.log("errorr",b),a.isLoggedIn=!1):c?(console.log("User ",c),a.$apply(function(){a.isLoggedIn=!0,a.user=c})):(console.log("user is logged out"),a.isLoggedIn=!1)});a.loginFB=function(){e.login("facebook")}}]),angular.module("lelyvitoApp").directive("llvAlbumDir",["$","$state","$timeout",function(a,b){return{restrict:"A",scope:{imgId:"="},link:function(c){var d=+c.imgId-1,e=+c.imgId+1;a(document).keyup(function(a){var c=a.keyCode;37===c&&b.go("albumDetail",{imgId:d}),39===c&&b.go("albumDetail",{imgId:e})}),c.$on("$destroy",function(){a(document).unbind("keyup")})}}}]),angular.module("lelyvitoApp").directive("llvBootstrapMenu",["$",function(a){return{templateUrl:"scripts/directives/llv-bootstrap-menu.html",restrict:"E",link:function(){a(".nav a").on("click",function(){var b=a(window).width();768>=b&&a(".navbar-toggle").click()})}}}]),angular.module("lelyvitoApp").directive("llvStaticmenu",["$",function(){return{templateUrl:"scripts/directives/llv-staticmenu.html",restrict:"E",link:function(){}}}]),angular.module("lelyvitoApp").directive("llvLazy",["$","$timeout",function(a,b){return{restrict:"EA",link:function(c,d){b(function(){a(d).lazyload()})}}}]),angular.module("lelyvitoApp").directive("llvFbComment",["$","$timeout",function(){function a(a,b,c,d,e){return'<div class="fb-comments" data-href="'+a+'" data-numposts="'+d+'" data-width="'+b+'" data-order-by="'+c+'" data-colorsheme="'+e+'"></div>'}return{restrict:"A",link:function(b,c,d){d.$observe("href",function(b){var e=b,f=d.width,g=d.numposts||5,h=d.orderBy||"time",i=d.colorscheme||"light";c.html(a(e,f,h,g,i)),FB.XFBML.parse(c[0])})}}}]),angular.module("lelyvitoApp").directive("llvThemeChanger",["$",function(){return{templateUrl:"scripts/directives/llv-theme-changer.html",restrict:"E",controller:"llvThemeChangerCtrl",link:function(){}}}]).controller("llvThemeChangerCtrl",["$scope",function(a){a.isActive=!1,a.bgColor="photo",a.toggleThemeChanger=function(){a.isActive=!a.isActive}}]),angular.module("lelyvitoApp").controller("AlbumCtrl",["$scope","$timeout","MAX_IMG",function(a,b,c){a.thumbs=[];for(var d=1;c>=d;++d)a.thumbs.push(d)}]),angular.module("lelyvitoApp").controller("AlbumDetailCtrl",["$scope","$timeout","$state","$stateParams","$log","MAX_IMG",function(a,b,c,d,e,f){var g=d.imgId;1>g&&c.go("albumDetail",{imgId:f}),g>f&&c.go("albumDetail",{imgId:1}),a.model={currAlbumId:g,prevId:+g-1,nextId:+g+1,imgName:"images/album/original_"+g+".jpg"}}]);